backend:
  name: git-gateway
  branch: master
local_backend: true

media_folder: static/img
public_folder: /img

slug:
  encoding: "ascii"
  clean_accents: true

collections:
  - name: "story"
    label: "Stories"
    folder: "content/story"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Template Key", name: "templateKey", widget: "hidden", default: "story" }
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Story image", name: "image", widget: "image" }
      - { label: "Image credits", name: "imageCredits", widget: "string", required: false }
      - { label: "Body", name: "body", widget: "markdown" }

  - name: "audio-post"
    label: "Audio Posts"
    create: true
    folder: "content/audio-post"
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Template Key", name: "templateKey", widget: "hidden", default: "audio-post" }
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Link", name: "link", widget: "string" }
      - { label: "Audio image", name: "image", widget: "image" }
      - { label: "Image credits", name: "imageCredits", widget: "string", required: false }
      - { label: "Short description", name: "shortDescription", widget: "string" }
      - { label: "Body", name: "body", widget: "markdown" }


  - name: "pages"
    label: "Pages"
    editor:
      preview: false
    files:
      - file: "content/index.md"
        label: "Homepage"
        name: "index"
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "index-page" }
          - { label: "Headline-Left", name: "headlineLeft", widget: "string" }
          - { label: "Featured entries", name: "featuredEntries", widget: "list", hint: "Select 6 entries from audio-posts/stories", types:
            [
            {
              label: "Audio Post",
              name: "audio-post",
              widget: "object",
              fields:
                [
                {
                  label: "Audio Post",
                  name: "items",
                  widget: "relation",
                  collection: "audio-post",
                  file: "audio-post",
                  valueField: "title",
                  searchFields: ["title"],
                  displayFields: ["title"],
                  multiple: true,
                  required: false,
                }
                ]
            },
            {
              label: "Story",
              name: "story",
              widget: "object",
              fields:
                [
                {
                  label: "Story",
                  name: "items",
                  widget: "relation",
                  collection: "story",
                  file: "story",
                  valueField: "title",
                  searchFields: ["title"],
                  displayFields: ["title"],
                  multiple: true,
                  required: false,
                }
                ]
            }
            ] }
          - { label: "Footer", name: "footer", widget: "object", fields: [{label: "Column-1", name: "column1", widget: "object", fields: [{ label: "Title", name: "title", widget: "string" }, { label: "Body", name: "body", widget: "markdown" }]}, {label: "Column-2", name: "column2", widget: "object", fields: [{ label: "Title", name: "title", widget: "string" }, { label: "Body", name: "body", widget: "markdown" }]}, {label: "Column-3", name: "column3", widget: "object", fields: [{ label: "Title", name: "title", widget: "string" }, { label: "Body", name: "body", widget: "markdown" }]}] }
      - file: "content/about/index.md"
        label: "About"
        name: "about"
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "about" }
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Main-image", name: "mainImage", widget: "object", fields: [{label: "Image", name: "image", widget: "image"}, { label: "Image credits", name: "imageCredits", widget: "string", required: false }] }
          - { label: "Body", name: "body", widget: "markdown" }
      - file: "content/contact/index.md"
        label: "Contact"
        name: "contact"
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "contact" }
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Body", name: "body", widget: "markdown" }
      - file: "content/audio/index.md"
        label: "Audio"
        name: "audio"
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "audio" }
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Body", name: "body", widget: "markdown" }

  - name: "footer"
    i18n: true
    label: "Footer"
    folder: "content/footer"
    widget: "object"
    fields:
      - { label: "Language", name: "language", widget: "select", options: ["lt", "en"], i18n: true }
      - { label: "Title", name: "title", widget: "string", default: "Footer" }
      - label: "Column-1"
        name: "column1"
        widget: "object"
        fields:
          - { label: "Title", name: "title", widget: "string", i18n: true }
          - { label: "Body", name: "body", widget: "markdown", i18n: true }
      - label: "Column-2"
        name: "column2"
        widget: "object"
        fields:
          - { label: "Title", name: "title", widget: "string", i18n: true }
          - { label: "Body", name: "body", widget: "markdown", i18n: true }
      - label: "Column-3"
        name: "column3"
        widget: "object"
        fields:
          - { label: "Title", name: "title", widget: "string", i18n: true }
          - { label: "Body", name: "body", widget: "markdown", i18n: true }
