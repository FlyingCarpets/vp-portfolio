backend:
  name: git-gateway
  branch: master
local_backend: true

media_folder: static/img
public_folder: /img

collections:
  - name: "story"
    label: "Stories"
    folder: "content/story"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Template Key", name: "templateKey", widget: "hidden", default: "story" }
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime", default: "", date_format: "DD.MM.YYYY", time_format: "HH:mm" }
      - { label: "Story image", name: "image", widget: "image" }
      - { label: "Body", name: "body", widget: "markdown" }

  - name: "audio-post"
    label: "Audio Post"
    folder: "content/audio-post"
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Template Key", name: "templateKey", widget: "hidden", default: "audio-post" }
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime", default: "", date_format: "DD.MM.YYYY", time_format: "HH:mm" }
      - { label: "Link", name: "link", widget: "string" }
      - { label: "Audio image", name: "image", widget: "image" }
      - { label: "Short description", name: "shortDescription", widget: "string" }
      - { label: "Full description", name: "fullDescription", widget: "markdown" }

  - name: "training-post"
    label: "Training Post"
    folder: "content/training-post"
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Template Key", name: "templateKey", widget: "hidden", default: "training-post" }
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime", default: "", date_format: "DD.MM.YYYY", time_format: "HH:mm" }
      - { label: "Link", name: "link", widget: "string" }
      - { label: "Training image", name: "image", widget: "image" }
      - { label: "Short description", name: "shortDescription", widget: "string" }
      - { label: "Full description", name: "fullDescription", widget: "markdown" }

  - name: "pages"
    label: "Pages"
    editor:
      preview: false
    files:
      - file: "content/index.md"
        label: "Homepage"
        name: "index"
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "index-page" }
          - { label: "Headline-Left", name: "headlineLeft", widget: "string" }
          - { label: "Featured entries", name: "featuredEntries", widget: "list", hint: "Select 6 entries from audio/training/stories", types:
            [
            {
              label: "Audio Post",
              name: "audio-post",
              widget: "object",
              fields:
                [
                {
                  label: "Audio Post",
                  name: "items",
                  widget: "relation",
                  collection: "audio-post",
                  file: "audio-post",
                  valueField: "title",
                  searchFields: ["title"],
                  displayFields: ["title"],
                  multiple: true,
                  required: false,
                }
                ]
            },
            {
              label: "Training Post",
              name: "training-post",
              widget: "object",
              fields:
                [
                {
                  label: "Training Post",
                  name: "items",
                  widget: "relation",
                  collection: "training-post",
                  file: "training-post",
                  valueField: "title",
                  searchFields: ["title"],
                  displayFields: ["title"],
                  multiple: true,
                  required: false,
                }
                ]
            },
            {
              label: "Story",
              name: "story",
              widget: "object",
              fields:
                [
                {
                  label: "Story",
                  name: "items",
                  widget: "relation",
                  collection: "story",
                  file: "story",
                  valueField: "title",
                  searchFields: ["title"],
                  displayFields: ["title"],
                  multiple: true,
                  required: false,
                }
                ]
            }
            ] }
          - { label: "Footer", name: "footer", widget: "object", fields: [{label: "Column-1", name: "column1", widget: "object", fields: [{ label: "Title", name: "title", widget: "string" }, { label: "Body", name: "body", widget: "markdown" }]}, {label: "Column-2", name: "column2", widget: "object", fields: [{ label: "Title", name: "title", widget: "string" }, { label: "Body", name: "body", widget: "markdown" }]}, {label: "Column-3", name: "column3", widget: "object", fields: [{ label: "Title", name: "title", widget: "string" }, { label: "Body", name: "body", widget: "markdown" }]}] }
      - file: "content/about/index.md"
        label: "About"
        name: "about"
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "about" }
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Main-image", name: "mainImage", widget: "object", fields: [{label: "Image", name: "image", widget: "image"}, {label: "Alt", name: "alt", widget: "string"}] }
          - { label: "Body", name: "body", widget: "markdown" }
      - file: "content/training/index.md"
        label: "Training"
        name: "training"
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "training" }
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Body", name: "body", widget: "markdown" }
      - file: "content/audio/index.md"
        label: "Audio"
        name: "audio"
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "audio" }
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Body", name: "body", widget: "markdown" }
